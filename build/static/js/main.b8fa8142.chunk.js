(this["webpackJsonpmars-images"]=this["webpackJsonpmars-images"]||[]).push([[0],{17:function(e,a,t){},21:function(e,a,t){},30:function(e,a,t){e.exports=t(61)},47:function(e,a,t){},48:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);t(15);var r=t(0),n=t.n(r),o=t(7),c=t.n(o);t(17),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(5),l=t(8),s=t(2),m=t(26),d=t.n(m),u=t(6),v=function(e,a,t){return function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))}("https://api.nasa.gov/mars-photos/api/v1/rovers/".concat(e.toLowerCase(),"/photos?earth_date=").concat(encodeURIComponent(a),"&api_key=").concat("XqM2eyZuT80TEP3dV7AvLfHdMiR9dfVmQzWNLCxH").concat(t.length?"&camera=".concat(encodeURIComponent(t)):""))},f=function(e){var a=e.earth_date,t=e.roverSelection,r=e.camera,n=Object.entries(t).filter((function(e){var a=Object(u.a)(e,2);a[0];return a[1]})).map((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return v(n,a,r)}));return Promise.all(n)},p=(t(47),t(48),t(3)),C=t.n(p),h=function(e){var a,t,r,o=e.earth_date,c=e.onDateChanged,i=(a="2004-01-05",t="2019-09-28",C()(t,"YYYY-MM-DD").diff(C()(a,"YYYY-MM-DD"),"days")+1),l=(r=o,C()(r,"YYYY-MM-DD").diff(C()("2004-01-05","YYYY-MM-DD"),"days")+1);return n.a.createElement("div",{className:"Dateslider"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12",style:{textAlign:"center"}},n.a.createElement("label",{htmlFor:"date"},"Earth Day"),n.a.createElement("p",{className:"Dateslider-date","data-testid":"date-label"},o))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("input",{"data-testid":"date-slider",type:"range",id:"date",className:"form-control",min:"1",max:i,value:l,onChange:function(e){c(function(e){return C()("2004-01-05","YYYY-MM-DD").add(e-1,"days").format("YYYY-MM-DD")}(e.target.value))}}),n.a.createElement("div",{className:"text-center mt-2"},n.a.createElement("small",{className:"small"},"2004-01-05"),n.a.createElement("span",{className:"mx-4"},"|"),n.a.createElement("small",{className:"small"},"2019-09-28")))))},E=t(4);t(21);var g=function(e){var a=e.roversActive,t=e.rovers,r=e.roverSelection,o=e.onRoverSelection;return n.a.createElement("div",{className:"RoverSelector-container"},t.map((function(e){return n.a.createElement("div",{key:e.name,className:"RoverSelector-card ".concat(a[e.name.toLowerCase()]?"":"inactive"),onClick:function(){return a=e.name.toLowerCase(),void o(Object(s.a)({},r,Object(E.a)({},a,!r[a])));var a}},n.a.createElement("label",{className:"RoverSelector-title"},n.a.createElement("input",{type:"checkbox","data-testid":"rover-selected",checked:r[e.name.toLowerCase()],onChange:function(){},onClick:function(e){return e.stopPropagation()}}),e.name," "),n.a.createElement("div",{className:"RoverSelector-period"},n.a.createElement("small",null,e.activePeriod[0]," - ",e.activePeriod[1])))})))};var M=function(e){var a=e.roversActive,t=e.rovers,r=void 0===t?[]:t,o=e.roverSelection,c=e.onRoverSelection;return n.a.createElement("div",{className:"RoverSelector-container"},r.map((function(e){return n.a.createElement("div",{key:e.name,className:"RoverSelector-card ".concat(a[e.name.toLowerCase()]?"":"inactive"),onClick:function(){return a=e.name.toLowerCase(),void c(Object(s.a)({},o,Object(E.a)({},a,!o[a])));var a}},n.a.createElement("label",{className:"RoverSelector-title"},n.a.createElement("input",{type:"checkbox","data-testid":"rover-selected",checked:o[e.name.toLowerCase()],onChange:function(){},onClick:function(e){return e.stopPropagation()}}),e.name," "),n.a.createElement("div",{className:"RoverSelector-period"},n.a.createElement("small",null,e.activePeriod[0]," - ",e.activePeriod[1])))})))},A=t(27);t(59);var _=function(e){var a=e.rovers,t=e.cameras,o=e.camera,c=e.roverSelection,i=e.earth_date,l=e.photos,m=e.onCriteriaChange,d=e.onSearch,v=Object(r.useState)(!1),f=Object(u.a)(v,2),p=f[0],E=f[1],_=Object(r.useState)(0),N=Object(u.a)(_,2),R=N[0],Y=N[1];Object(r.useEffect)((function(){var e=function(){var e=document.querySelector(".App-header");e&&(e.style.backgroundPositionY="calc(50% - ".concat(.5*window.pageYOffset,"px)"))};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var w=function(a){var t=Object(s.a)({},e,{},a);m(t),d(t)},S=a.reduce((function(e,a){return e[a.name.toLowerCase()]=function(e,a,t){var r=C()(e,"YYYY-MM-DD"),n=C()(a,"YYYY-MM-DD"),o=C()(t,"YYYY-MM-DD");return o>=r&&o<=n}(a.activePeriod[0],a.activePeriod[1],i),e}),{});return n.a.createElement("div",null,n.a.createElement("header",{className:"App-header"},n.a.createElement("h2",null,"Mars Rover Images")),n.a.createElement("div",{className:"container-fluid App-form"},n.a.createElement("div",{className:"row"},n.a.createElement("form",{className:"col-10 offset-1"},n.a.createElement(h,{earth_date:i,x:!0,onDateChanged:function(e){return w({earth_date:e})}}),n.a.createElement(g,{roversActive:S,rovers:a,roverSelection:c,onRoverSelection:function(e){return w({roverSelection:e})}}),n.a.createElement(M,{camera:o,cameras:t,onCameraSelected:function(e){return w({camera:e})}}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-10 offset-1"},n.a.createElement("div",{className:"row"},0===l.length?n.a.createElement("p",null,"No results"):l.map((function(e,a){return n.a.createElement("div",{key:e.id,className:"col-lg-4 col-12",onClick:function(){return function(e){Y(e),E(!0)}(a)}},n.a.createElement("img",{className:"App-img-result",src:e.img_src,alt:"Mars",style:{cursor:"pointer"}}))})))))),p&&n.a.createElement(A.a,{mainSrc:l[R].img_src,nextSrc:l[(R+1)%l.length].img_src,prevSrc:l[(R+l.length-1)%l.length].img_src,onCloseRequest:function(){return E(!1)},onMovePrevRequest:function(){return Y((R+l.length-1)%l.length)},onMoveNextRequest:function(){return Y((R+1)%l.length)}}))},N={rovers:[{name:"Spirit",activePeriod:["2004-01-05","2010-03-21"]},{name:"Opportunity",activePeriod:["2004-01-26","2018-06-11"]},{name:"Curiosity",activePeriod:["2012-08-07","2019-09-28"]}],cameras:{FHAZ:"Front Hazard Avoidance Camera",RHAZ:"Rear Hazard Avoidance Camera",MAST:"Mast Camera",CHEMCAM:"Chemistry and Camera Complex",MAHLI:"Mars Hand Lens Imager",MARDI:"Mars Descent Imager",NAVCAM:"Navigation Camera",PANCAM:"Panoramic Camera",MINITES:"Miniature Thermal Emission Spectrometer (Mini-TES)"},roverSelection:{spirit:!0,opportunity:!0,curiosity:!0},earth_date:"2019-09-28",camera:"FHAZ",photos:[{id:689597,sol:2540,camera:{id:20,name:"FHAZ",rover_id:5,full_name:"Front Hazard Avoidance Camera"},img_src:"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/02540/opgs/edr/fcam/FLB_622990123EDR_F0763002FHAZ00341M_.JPG",earth_date:"2019-09-28",rover:{id:5,name:"Curiosity",landing_date:"2012-08-06",launch_date:"2011-11-26",status:"active",max_sol:2540,max_date:"2019-09-28",total_photos:366206,cameras:[{name:"FHAZ",full_name:"Front Hazard Avoidance Camera"},{name:"NAVCAM",full_name:"Navigation Camera"},{name:"MAST",full_name:"Mast Camera"},{name:"CHEMCAM",full_name:"Chemistry and Camera Complex"},{name:"MAHLI",full_name:"Mars Hand Lens Imager"},{name:"MARDI",full_name:"Mars Descent Imager"},{name:"RHAZ",full_name:"Rear Hazard Avoidance Camera"}]}},{id:689598,sol:2540,camera:{id:20,name:"FHAZ",rover_id:5,full_name:"Front Hazard Avoidance Camera"},img_src:"https://mars.nasa.gov/msl-raw-images/proj/msl/redops/ods/surface/sol/02540/opgs/edr/fcam/FRB_622990123EDR_F0763002FHAZ00341M_.JPG",earth_date:"2019-09-28",rover:{id:5,name:"Curiosity",landing_date:"2012-08-06",launch_date:"2011-11-26",status:"active",max_sol:2540,max_date:"2019-09-28",total_photos:366206,cameras:[{name:"FHAZ",full_name:"Front Hazard Avoidance Camera"},{name:"NAVCAM",full_name:"Navigation Camera"},{name:"MAST",full_name:"Mast Camera"},{name:"CHEMCAM",full_name:"Chemistry and Camera Complex"},{name:"MAHLI",full_name:"Mars Hand Lens Imager"},{name:"MARDI",full_name:"Mars Descent Imager"},{name:"RHAZ",full_name:"Rear Hazard Avoidance Camera"}]}}]},R=Object(l.b)((function(e){return e}),(function(e){return{onCriteriaChange:function(a){e({type:"CRITERIA",criteria:a})},onSearch:d()((function(a){e({type:"CRITERIA_CHANGE",criteria:a,payload:f(a)})}),500)}}))(_),Y=t(29),w=Object(i.c)(Object(i.a)(Y.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CRITERIA":return Object(s.a)({},e,{},a.criteria);case"CRITERIA_CHANGE_FULFILLED":return Object(s.a)({},e,{photos:a.payload.map((function(e){return e.photos})).flat()});default:return e}})),S=function(){return n.a.createElement(l.a,{store:w},n.a.createElement(R,null))};c.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.b8fa8142.chunk.js.map