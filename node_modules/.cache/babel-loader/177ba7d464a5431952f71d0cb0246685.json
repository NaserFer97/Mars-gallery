{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naser\\\\OneDrive\\\\Escritorio\\\\React-Testing-Mars-Rover-Images-main\\\\src\\\\pages\\\\RoverSearch.js\";\nimport React, { useEffect } from \"react\";\nimport \"./RoverSearch.css\";\nimport DateSlider from \"../widgets/DateSlider\";\nimport RoverSelector from \"../widgets/RoverSelector\";\nimport CameraSelection from \"../widgets/CameraSelection\";\nimport { isActive } from \"../services/sols\";\n\nfunction RoverSearch(props) {\n  const {\n    rovers,\n    cameras,\n    camera,\n    roverSelection,\n    earth_date,\n    photos,\n    onCriteriaChange,\n    onSearch\n  } = props;\n  useEffect(() => {\n    const handleScroll = () => {\n      const parallaxElement = document.querySelector(\".App-header\");\n      const offset = window.pageYOffset;\n      parallaxElement.style.backgroundPositionY = offset * 0.5 + \"px\";\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const setCriteriaAndPublish = newCriteria => {\n    const merged = { ...props,\n      ...newCriteria\n    };\n    onCriteriaChange(merged);\n    onSearch(merged);\n  };\n\n  const roversActive = rovers.reduce((acc, curr) => {\n    acc[curr.name.toLowerCase()] = isActive(curr.activePeriod[0], curr.activePeriod[1], earth_date);\n    return acc;\n  }, {});\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Mars Rover Images\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid App-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"col-10 offset-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DateSlider, {\n    earth_date: earth_date,\n    onDateChanged: date => {\n      setCriteriaAndPublish({\n        earth_date: date\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(RoverSelector, {\n    roversActive: roversActive,\n    rovers: rovers,\n    roverSelection: roverSelection,\n    onRoverSelection: selected => {\n      setCriteriaAndPublish({\n        roverSelection: selected\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CameraSelection, {\n    camera: camera,\n    cameras: cameras,\n    onCameraSelected: selectedCamera => {\n      setCriteriaAndPublish({\n        camera: selectedCamera\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 offset-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, photos.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"No results\") : photos.map(photo => /*#__PURE__*/React.createElement(\"div\", {\n    key: photo.id,\n    className: \"col-lg-4 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"App-img-result\",\n    src: photo.img_src,\n    alt: \"Mars\",\n    \"data-testid\": \"rover-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }))))))));\n}\n\nexport default RoverSearch;","map":{"version":3,"sources":["C:/Users/naser/OneDrive/Escritorio/React-Testing-Mars-Rover-Images-main/src/pages/RoverSearch.js"],"names":["React","useEffect","DateSlider","RoverSelector","CameraSelection","isActive","RoverSearch","props","rovers","cameras","camera","roverSelection","earth_date","photos","onCriteriaChange","onSearch","handleScroll","parallaxElement","document","querySelector","offset","window","pageYOffset","style","backgroundPositionY","addEventListener","removeEventListener","setCriteriaAndPublish","newCriteria","merged","roversActive","reduce","acc","curr","name","toLowerCase","activePeriod","date","selected","selectedCamera","length","map","photo","id","img_src"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./RoverSearch.css\";\nimport DateSlider from \"../widgets/DateSlider\";\nimport RoverSelector from \"../widgets/RoverSelector\";\nimport CameraSelection from \"../widgets/CameraSelection\";\nimport { isActive } from \"../services/sols\";\n\nfunction RoverSearch(props) {\n  const {\n    rovers,\n    cameras,\n    camera,\n    roverSelection,\n    earth_date,\n    photos,\n    onCriteriaChange,\n    onSearch,\n  } = props;\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const parallaxElement = document.querySelector(\".App-header\");\n      const offset = window.pageYOffset;\n      parallaxElement.style.backgroundPositionY = offset * 0.5 + \"px\";\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const setCriteriaAndPublish = (newCriteria) => {\n    const merged = { ...props, ...newCriteria };\n    onCriteriaChange(merged);\n    onSearch(merged);\n  };\n\n  const roversActive = rovers.reduce((acc, curr) => {\n    acc[curr.name.toLowerCase()] = isActive(\n      curr.activePeriod[0],\n      curr.activePeriod[1],\n      earth_date\n    );\n    return acc;\n  }, {});\n\n  return (\n    <div>\n      <header className=\"App-header\">\n        <h2>Mars Rover Images</h2>\n      </header>\n      <div className=\"container-fluid App-form\">\n        <div className=\"row\">\n          <form className=\"col-10 offset-1\">\n            <DateSlider\n              earth_date={earth_date}\n              onDateChanged={(date) => {\n                setCriteriaAndPublish({ earth_date: date });\n              }}\n            />\n            <RoverSelector\n              roversActive={roversActive}\n              rovers={rovers}\n              roverSelection={roverSelection}\n              onRoverSelection={(selected) => {\n                setCriteriaAndPublish({ roverSelection: selected });\n              }}\n            />\n            <CameraSelection\n              camera={camera}\n              cameras={cameras}\n              onCameraSelected={(selectedCamera) => {\n                setCriteriaAndPublish({ camera: selectedCamera });\n              }}\n            />\n          </form>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-10 offset-1\">\n            <div className=\"row\">\n              {photos.length === 0 ? (\n                <p>No results</p>\n              ) : (\n                photos.map((photo) => (\n                  <div key={photo.id} className=\"col-lg-4 col-12\">\n                    <img\n                      className=\"App-img-result\"\n                      src={photo.img_src}\n                      alt=\"Mars\"\n                      data-testid=\"rover-image\"\n                    />\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RoverSearch;\n"]},"metadata":{},"sourceType":"module"}